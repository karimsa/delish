language: node_js
node_js: 7
addons:
  browserstack:
    username: karimalibhai2
    access_key:
      secure: A3iFcem70txiIjeSFU12bHqXW5YE5d8hw4RD6U4UhHeI51BH/e284NXrP6/tAJEOVwRYn6vU34TK9OicnjXopHk29mYucR4BBuJAQRn3ie3a9O8l/QShkZ+77lK+nI5fMk4NsNydKBWJw7cyicoKprlDyY8j80Nwuon2X3BGk2+Ge2AYwy7q1qjiPCR/RFqBR7J+Lm/BgOamooCyRTUi1tAp8xUlQY9tUQ3x9mcdudYmTlEcJY0lQNRM/iGkYA+NxB2ZjqbE14E92Jk9k/pBoNk1nRDmTzdo3BqKRfrE5Mm0vbk340JjsS/gd83r7EodrgnsSI7i3zqtB107pSGtK763M2BDqVC2gTH4TIBZANn7FOK0YeXh4H26taeRxg4bHAuVM9WrjMiU978TdYKG/lOVTukvoSqzLtH6lUe8RfHK52pN8I8ORegAeG2U9gyx2aXcMTTFBbJtkyyaLhoerho1NgaUktFSdySF3ggPr2BpQr0ZWcFPaTucH9j1Unzryfvf6xe4SOEpxIqcQ/0DmKZM4sg67u1E/0MYogKa69RjkP16ozndoUJpXv+xyUyeq9FzL7rPcPeq0sjQK2/zuNSG6yIuCEwtQfhLHcsCdBkGaThg7anQfXD5S6kc5GTB1En3hZAXKcnypK4/8tdw0L9g8nwpRkFfizslSDB+f3o=
  apt:
    packages:
    - oracle-java8-set-default
script:
- set -e
- export WEB_CONCURRENCY=$(node -e 'console.log(require("os").cpus().length)')
- npm test
- node_modules/.bin/codecov
- gulp
deploy:
  provider: heroku
  api_key:
    secure: iBJ75smvz9dkOTtZ3IB9fjeWfVOB06zpNpzqEnlyXz9GuwHKCmFDRomKJzNZUpX0TFGlo6w/y2F3UevjGA6d/jT8oayeVc7TjUGjIdrYtEtc5STRKi5vfzb9gYJHYbEdmpy0TDRVLE+4CkUm3tPkRwX8G/nOtzVYO5D8IJZCtfS4UymI5a8N13jIMOK8AM2N7xNvQ/7tDPzoQ1r4yT+sDHbuQxTDiPZTwknOaBbducWgiclmDXC8P4F8VvSu32jn7MW+Bu0PSUnG9LgQCGoXrP9wDstpuUmpWD9BDjDmqzC5xAE1WJ65vl/PTQ9OkAhGje6zYhs50MCwOEZ/85FHKtMvHzvNmDReAfkFo9is7MQTWb8z1MIHRuyJJKlBVqKjMh9yYAgvWxRG1Z8L+jUjsQkYqWyJdhWBXRj+4b84NTNWkCRiQSo3abenIM4aCBfam+UG+gbUhpm23vAGFnR/UAS0LOz/93hqjgY5fpPlKLD89PAfSwc4CQ8wqMuoR6DMOIk2aKfIv8KljDyCK3ngAzn5Cioac2x6ht3fq4vJddjm8LCtCtxmJtMY/Tl0Me7vSaJOeSYLucnqwmH6++EZeUNaEYMpAIQQSKwcxuIJk618mKJ1BAyg0TuflVGfx+svou/rMtTcW1TAAE3l/SwRFqnPLtPUJkn9uZu5wcTThjw=
  app: stormy-wave-24728
  on:
    repo: karimsa/delish
  skip_cleanup: true